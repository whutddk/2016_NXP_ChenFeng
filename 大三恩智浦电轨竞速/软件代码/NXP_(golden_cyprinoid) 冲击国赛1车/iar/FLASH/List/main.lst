###############################################################################
#
# IAR ANSI C/C++ Compiler V7.30.3.8024/W32 for ARM        16/Aug/2016  11:11:17
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\app\MAIN\main.c
#    Command line =  
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\app\MAIN\main.c" -D LPLD_K60 -lCN
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\FLASH\List\" -lB
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\FLASH\List\" -o
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\FLASH\Obj\" --no_cse --no_unroll --no_inline --no_code_motion
#        --no_tbaa --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4 -e --fpu=None --dlib_config
#        D:\IAR\arm\INC\c\DLib_Config_Normal.h -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\BSP\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\ITAC\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\CTL\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\MAIN\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\app\SENSOR\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\CPU\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\common\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\LPLD\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\LPLD\HW\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\LPLD\DEV\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\uCOS-II\Ports\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\uCOS-II\Source\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\FatFs\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\FatFs\option\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\USB\common\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\USB\driver\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\USB\descriptor\" -I
#        "E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\..\..\..\lib\USB\class\" -On -I D:\IAR\arm\CMSIS\Include\ -D
#        ARM_MATH_CM4
#    List file    =  
#        E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\FLASH\List\main.lst
#    Object file  =  
#        E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid)
#        1.9\iar\FLASH\Obj\main.o
#
###############################################################################

E:\飞思卡尔\新工程\LPLD_OSKinetis_V3\project\NXP_(golden_cyprinoid) 1.9\app\MAIN\main.c
      1          //主函数部分
      2          //DDK 
      3          // 1车
      4          
      5          
      6          #include "include.h"
      7          

   \                                 In section .bss, align 1
      8          uint8 send_cnt = 0;
   \                     send_cnt:
   \   00000000                      DS8 1

   \                                 In section .bss, align 2
      9          uint16 timer_cnt = 0;
   \                     timer_cnt:
   \   00000000                      DS8 2

   \                                 In section .bss, align 2
     10          vuint16 temp = 0; 
   \                     temp:
   \   00000000                      DS8 2
     11          

   \                                 In section .text, align 2, keep-with-next
     12          void main (void)
     13          {
   \                     main: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     14            sysinit();
   \   00000002   0x.... 0x....      BL       sysinit
     15            
     16            temp = LDC_READ(0x7F);  
   \   00000006   0x207F             MOVS     R0,#+127
   \   00000008   0x.... 0x....      BL       LDC_READ
   \   0000000C   0x....             LDR.N    R1,??DataTable1
   \   0000000E   0x8008             STRH     R0,[R1, #+0]
     17            
     18            ReadFlash();
   \   00000010   0x.... 0x....      BL       ReadFlash
     19            read_sw();
   \   00000014   0x.... 0x....      BL       read_sw
     20            LPLD_LPTMR_DelayMs(300);
   \   00000018   0xF44F 0x7096      MOV      R0,#+300
   \   0000001C   0x.... 0x....      BL       LPLD_LPTMR_DelayMs
     21            
     22            
     23            if ( flag_bihuan == 0 && speed_up_Enable == 1 )//防止oled坏
   \   00000020   0x....             LDR.N    R0,??DataTable1_1
   \   00000022   0x7800             LDRB     R0,[R0, #+0]
   \   00000024   0x2800             CMP      R0,#+0
   \   00000026   0xD113             BNE.N    ??main_0
   \   00000028   0x....             LDR.N    R0,??DataTable1_2
   \   0000002A   0x7800             LDRB     R0,[R0, #+0]
   \   0000002C   0x2801             CMP      R0,#+1
   \   0000002E   0xD10F             BNE.N    ??main_0
     24            {    
     25              GUI.para.AI = 2;
   \   00000030   0x2002             MOVS     R0,#+2
   \   00000032   0x....             LDR.N    R1,??DataTable1_3
   \   00000034   0x7188             STRB     R0,[R1, #+6]
     26              PIT1_init();//控制系统时钟 //暂定10ms
   \   00000036   0x.... 0x....      BL       PIT1_init
     27              PIT0_init();//主系统时钟 //1MS 一次中断
   \   0000003A   0x.... 0x....      BL       PIT0_init
     28              NVIC_init();
   \   0000003E   0x.... 0x....      BL       NVIC_init
     29              
     30              flag_bihuan = 1;
   \   00000042   0x2001             MOVS     R0,#+1
   \   00000044   0x....             LDR.N    R1,??DataTable1_1
   \   00000046   0x7008             STRB     R0,[R1, #+0]
     31              speed_up_Enable = 0;  
   \   00000048   0x2000             MOVS     R0,#+0
   \   0000004A   0x....             LDR.N    R1,??DataTable1_2
   \   0000004C   0x7008             STRB     R0,[R1, #+0]
   \   0000004E   0xE001             B.N      ??main_1
     32            
     33          }
     34          
     35            else
     36            {
     37              GUI_work();
   \                     ??main_0: (+1)
   \   00000050   0x.... 0x....      BL       GUI_work
     38            }
     39            star();
   \                     ??main_1: (+1)
   \   00000054   0x.... 0x....      BL       star
     40            
     41            while(1)
     42            {
     43              bzled_work();
   \                     ??main_2: (+1)
   \   00000058   0x.... 0x....      BL       bzled_work
     44              
     45              //30ms发送一次示波器数据
     46              if ( send_cnt >= 1 )
   \   0000005C   0x....             LDR.N    R0,??DataTable1_4
   \   0000005E   0x7800             LDRB     R0,[R0, #+0]
   \   00000060   0x2800             CMP      R0,#+0
   \   00000062   0xD0F9             BEQ.N    ??main_2
     47              {
     48                sendDataToScope();
   \   00000064   0x.... 0x....      BL       sendDataToScope
     49                send_cnt = 0;
   \   00000068   0x2000             MOVS     R0,#+0
   \   0000006A   0x....             LDR.N    R1,??DataTable1_4
   \   0000006C   0x7008             STRB     R0,[R1, #+0]
   \   0000006E   0xE7F3             B.N      ??main_2
     50              }
     51              
     52              
     53          //    i = GUI.para.endline_time * 1000;
     54          ////    LPLD_GPIO_ClearIntFlag(PORTD);
     55          //    
     56          //    j = 0;
     57          //    j = PTD1_I + PTD5_I + PTD6_I + PTD15_I;
     58          //    
     59          //    if( j < 3)
     60          //    {
     61          //      if(1 == GUI.para.endline &&  timer_cnt > i)  //一个可调的值
     62          //      {
     63          //        flag_bihuan = 0;
     64          //        ctl.motto.out = 0;
     65          //        timer_cnt = 0;
     66          //      }
     67          //      bz_set(datarec);
     68          //    }
     69          
     70            } 
     71          }
     72          
     73          

   \                                 In section .text, align 2, keep-with-next
     74          void MCNT_isr() // 主系统计时
     75          {
     76            if(0 == flag_stop )
   \                     MCNT_isr: (+1)
   \   00000000   0x....             LDR.N    R0,??DataTable1_5
   \   00000002   0x7800             LDRB     R0,[R0, #+0]
   \   00000004   0x2800             CMP      R0,#+0
   \   00000006   0xD104             BNE.N    ??MCNT_isr_0
     77            {
     78            timer_cnt++ ;
   \   00000008   0x....             LDR.N    R0,??DataTable1_6
   \   0000000A   0x8800             LDRH     R0,[R0, #+0]
   \   0000000C   0x1C40             ADDS     R0,R0,#+1
   \   0000000E   0x....             LDR.N    R1,??DataTable1_6
   \   00000010   0x8008             STRH     R0,[R1, #+0]
     79            }
     80            
     81            bz_cnt++;
   \                     ??MCNT_isr_0: (+1)
   \   00000012   0x....             LDR.N    R0,??DataTable1_7
   \   00000014   0x8800             LDRH     R0,[R0, #+0]
   \   00000016   0x1C40             ADDS     R0,R0,#+1
   \   00000018   0x....             LDR.N    R1,??DataTable1_7
   \   0000001A   0x8008             STRH     R0,[R1, #+0]
     82            send_cnt++;
   \   0000001C   0x....             LDR.N    R0,??DataTable1_4
   \   0000001E   0x7800             LDRB     R0,[R0, #+0]
   \   00000020   0x1C40             ADDS     R0,R0,#+1
   \   00000022   0x....             LDR.N    R1,??DataTable1_4
   \   00000024   0x7008             STRB     R0,[R1, #+0]
     83            
     84            
     85            
     86            if (timer_cnt == 65000)  //最多65秒
   \   00000026   0x....             LDR.N    R0,??DataTable1_6
   \   00000028   0x8800             LDRH     R0,[R0, #+0]
   \   0000002A   0xF64F 0x51E8      MOVW     R1,#+65000
   \   0000002E   0x4288             CMP      R0,R1
   \   00000030   0xD102             BNE.N    ??MCNT_isr_1
     87            {
     88              timer_cnt = 0;
   \   00000032   0x2000             MOVS     R0,#+0
   \   00000034   0x....             LDR.N    R1,??DataTable1_6
   \   00000036   0x8008             STRH     R0,[R1, #+0]
     89            }
     90            
     91          }
   \                     ??MCNT_isr_1: (+1)
   \   00000038   0x4770             BX       LR               ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1:
   \   00000000   0x........         DC32     temp

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_1:
   \   00000000   0x........         DC32     flag_bihuan

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_2:
   \   00000000   0x........         DC32     speed_up_Enable

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_3:
   \   00000000   0x........         DC32     GUI

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_4:
   \   00000000   0x........         DC32     send_cnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_5:
   \   00000000   0x........         DC32     flag_stop

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_6:
   \   00000000   0x........         DC32     timer_cnt

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable1_7:
   \   00000000   0x........         DC32     bz_cnt

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   MCNT_isr
       8   main
         8   -> GUI_work
         8   -> LDC_READ
         8   -> LPLD_LPTMR_DelayMs
         8   -> NVIC_init
         8   -> PIT0_init
         8   -> PIT1_init
         8   -> ReadFlash
         8   -> bzled_work
         8   -> read_sw
         8   -> sendDataToScope
         8   -> star
         8   -> sysinit


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable1
       4  ??DataTable1_1
       4  ??DataTable1_2
       4  ??DataTable1_3
       4  ??DataTable1_4
       4  ??DataTable1_5
       4  ??DataTable1_6
       4  ??DataTable1_7
      58  MCNT_isr
     112  main
       1  send_cnt
       2  temp
       2  timer_cnt

 
   5 bytes in section .bss
 202 bytes in section .text
 
 202 bytes of CODE memory
   5 bytes of DATA memory

Errors: none
Warnings: none
